<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Display.html</title>
</head>
<body>
	<style>
		.none{
			visibility: hidden;
		}
		.show{
			visibility: visible;
		}
		.animateAngle{
			visibility: visible;
			right: 50px;
		}

		#circle{
			position: absolute;
			display: inline-block;
		}
	</style>
	
	<h1>Display.html</h1>

	<div><span id="time">01:00</span></div>

	<div id="circle" class="none" style="width: 100px; height:100px; border-radius: 50%; background-color: black;"></div>



	<script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>


	<script>
	loopSpeed = 10;
	time = 0;
	velocityY = 20; 
	posY = 0 ; 
	setInterval(function(){
		time = time + loopSpeed/10000; 
		posY = posY + velocityY*time;
		$('#circle').css({bottom: posY - 120 });
	}, loopSpeed);

	

    var socket = io();

    socket.on('exitScreen', function animateDiagonal(data) {
        posY = 0;
       	time =0;
       	console.log(data);
        console.log("connection made");
      	$('#circle').addClass('show');
       	console.log("test");
        var lastPositionX = data.last5Moves[4].x;
        console.log(lastPositionX);
        $('#circle').css({left: lastPositionX-50}) 	
    });




 //    function startTimer(duration, display) {
	//     var timer = duration, minutes, seconds;
	//     setInterval(function () {
	//         minutes = parseInt(timer / 60, 10)
	//         seconds = parseInt(timer % 60, 10);

	//         minutes = minutes < 10 ? "0" + minutes : minutes;
	//         seconds = seconds < 10 ? "0" + seconds : seconds;

	//         display.text(minutes + ":" + seconds);

	//         if (--timer < 0) {
	//             timer = duration;
	//         } 
	//     }, 1000);
	// }

	// jQuery(function ($) {
	//     var fiveMinutes = 60 * 1,
	//         display = $('#time');
	//     startTimer(fiveMinutes, display);
	// });
	
	var gameOver = setInterval(endGame, 60000);
	function endGame(){
		clearInterval(gameOver);
		alert("game over!");
	};

    </script>

</body>
</html>